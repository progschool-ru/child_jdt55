<!DOCTYPE html>
<html> 
	<head> 
	<script src="https://code.jquery.com/jquery.min.js"></script>
	 <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="calculator.js"></script>
	<script src="tarifs_for_calculator.js"></script>
	<script src="metrika.js"></script> 
	<link href="octicons.css" rel="stylesheet">
	<link href="style_for_calculator_klim.css" rel="stylesheet">

	 <!-- Для сайта -->
 	<script src="/sites/jdt55/files/users/Calc_files/calculator.js.txt"></script>
 	<script src="/sites/jdt55/files/users/Calc_files/tarifs_for_calculator.js.txt"></script>
 	<link href="/sites/jdt55/files/users/Calc_files/octicons.css" rel="stylesheet">
	<link href="/sites/jdt55/files/users/Calc_files/style_for_calculator_klim.css" rel="stylesheet">
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script type="text/javascript">
		var Params;
	</script>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Калькулятор грузоперевозок</title> 
	</head> 
<body> 

<div class="layer1" align="left">
		<h2 style="margin-top: 15px; margin-bottom: 3px;">Цены на доставку груза</h2>
			<p class="tarif"><a href="/sites/jdt55/files/users/admin1/prais-list_no1_zhd_perevozki.doc"><span style="color: rgb(102, 153, 102);">ЖД доставка сборных грузов</span></a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no2_avtoperevozki.xls"><span style="color: rgb(102, 153, 102);">Автоперевозка сборных грузов</span></a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no4_avtoekspedirovanie_po_moskve_i_oblasti.doc">Автоэкспедирование грузов по г.Москва</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prais-list_no3_avtoekspedirovanie_po_omsku.doc">Автоэкспедирование грузов по г.Омску</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no5_dop.upakovku_gruzov_v_g.moskva_0.doc"><span style="color: rgb(102, 153, 102);">Дополнительная упаковка грузов в г.Москва</span></a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_spb-omsk-spb.xls">Автоперевозка грузов Санкт-Петербург-Омск</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no6_avtoekspedirovanie_po_novosibirsku.xls">Автоэкспедирование грузов по г. Новосибирск</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_avto-_refrizherator_iz_moskvy_v_omsk.doc">Перевозка автомобилем-рефрижератором в г.Омск</a><span style="color:#ff0000;">&nbsp;</span></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/%D0%BF%D1%80%D0%B0%D0%B9%D1%81%20%D0%BD%D1%81%D0%BA-%D0%BE%D0%BC%D1%81%D0%BA.xls"> Автоперевозка сборных грузов из г.Новосибирска</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_omska_i_pavlodara_3.xls">Из Омска в Казахстан и из Павлодара в Россию</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_msk_nvs_v_kazahstan_3.xls">Из Москвы, Новосибирска в Казахстан</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_spb_v_kazahstan_3.xls">Из Санкт-Петербурга в Казахстан</a></p><br>
			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_ekb_i_tyumeni.xls">Из Екатеринбурга и Тюмени в Казахстан</a></p><br>
			<p>&nbsp;</p>		
</div>
<div class="calc">
	<form name="calc" id="calc"> 
		<h2 style="margin-left:-15px; ">Предварительный расчет</h2>
		<div class="form-group" style="margin-bottom: 0px;">
			<div align="left" class="selector">
				<select name="artkli-from" id="artkli-from" class="form-control" style="padding-left: 10px;" onchange="artkli.change_check();artkli.check_radio();artkli.update_where();artkli.update_from();artkli.fill_text();">	
				</select>
			</div>
			<div align="left" class="selector" id="artkli-where">
				<select name="artkli-where" id="artkli-where_select" class="form-control" onchange="artkli.change_check();artkli.check_radio();artkli.update_from();artkli.update_where();artkli.fill_text();">	
				</select>
			</div>
			<button type="button" class="btn btn-default" id="butt" data-toggle="tooltip" data-placement="top" title="Сброс" onclick="artkli.reset();artkli.blur_button()" ><span class="octicon octicon-x"></span>
			</button>
		</div>
				<div class="form-group" style="margin-bottom: 0px; padding-bottom: 0px;">
					<div id="artkli-chooser" align="left" style="margin-right: 10px; margin-bottom: 0px; padding-bottom: 0px;"></div>
					<div id="artkli-choose_way" align="left" style="margin-bottom: 0px; padding-bottom: 0px;" ></div>
					<br/>
				</div>
				<div class="form-group">
					<label for="artkli-massa" class="col-sm-2 control-label" style="width: 62px; margin-left: -14px; text-align: left; margin-bottom: 0px; margin-top: 5px; "  >Вес</label>
					<div class="col-sm-10" style="width: 200px;margin-bottom: 0px;padding-right: 0px;margin-right:0px; ">
						<input id="artkli-massa" name= "artkli-massa" class="form-control" type="text" placeholder = "Кг" style="text-align: right;" value="" onchange="window['yaCounter'+artkli_yandex_metrika_id].reachGoal('city_from'); return true;" oninput="artkli.change_check();this.value=parseInt(this.value) || 0; artkli.fill_text()"/>
					</div>
				</div>
				<div class="form-group">
					<label for="artkli-volume" class="col-sm-2 control-label" style=" width: 62px; margin-left: -14px;text-align: left; margin-top: 5px;">Объем</label>
					<div>
					<div class="col-sm-10" style="width: 200px;">
						<input id="artkli-volume" name= "artkli-volume" class="form-control" type="text" placeholder = "Куб.м." style="text-align: right;" value="" n oninput="artkli.change_check();this.value=parseInt(this.value) || 0; artkli.fill_text()"/>
					</div>
					</div>
				</div>
					<div name="result_field" id="result_field" class="alert alert-info" style="height: 36px width: 100%; margin-right: 76px; margin-left: -15px;" role="alert"><font size="3"><span style="margin-bottom: 180px" id = "artkli-result">Итог</span></font></div>		
<table border="0" class="dump-noborder form-group" id="call" style="font-size: 12px; padding-left:12px; margin-left: -14px;">	
	<tbody>
		<tr>
			<td style="width: 22px;height: 16px; padding-bottom: 10px; ">
				<span class="octicon octicon-device-mobile" style="margin-left: 2px;vertical-align: bottom;"></span></td>
			<td style="padding-bottom: 6px;"> 
				<span style="text-align: justify;padding-bottom: 3px;">Позвонить: &nbsp; (3812) 45-04-39,&nbsp;&nbsp;8-913-967-98-98.</span></td>
		</tr>
		<tr>
			<td style="padding-bottom: 10px;">
				<span class="octicon octicon-mail-read" style="vertical-align: bottom;"></span></td>
			<td style="padding-bottom: 6px;">
				<span style="text-align: justify;">Написать: <a href="mailto:office@jdt55.ru" onclick="console.log(123)">office@jdt55.ru</a>.</span></td>
		</tr>
		<tr>
			<td style="padding-bottom: 10px;">
				<span class="octicon octicon-globe" style="vertical-align: bottom;"></span></td>
			<td style="padding-bottom: 6px;"> 
				<span style="text-align: justify;"><a target="_blank" href="/contact" onclick="window['yaCounter'+artkli_yandex_metrika_id].reachGoal('test'); return true;">Оставить заявку на сайте.</a></span></td>
		</tr>
	</tbody>
</table>
	</form>
	<div class="layer2" id="tarifs_links">
		<h2>Цены на доставку груза</h2>
			<p class="tarif" ><a href="/sites/jdt55/files/users/admin1/prais-list_no1_zhd_perevozki.doc"><span style="color: rgb(102, 153, 102);">ЖД доставка сборных грузов</span></a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no2_avtoperevozki.xls"><span style="color: rgb(102, 153, 102);">Автоперевозка сборных грузов</span></a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no4_avtoekspedirovanie_po_moskve_i_oblasti.doc">Автоэкспедирование грузов по г.Москва</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no3_avtoekspedirovanie_po_omsku.doc">Автоэкспедирование грузов по г.Омску</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no5_dop.upakovku_gruzov_v_g.moskva_0.doc"><span style="color: rgb(102, 153, 102);">Дополнительная упаковка грузов в г.Москва</span></a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_spb-omsk-spb.xls">Автоперевозка грузов Санкт-Петербург-Омск</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_no6_avtoekspedirovanie_po_novosibirsku.xls">Автоэкспедирование грузов по г. Новосибирск</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays-list_avto-_refrizherator_iz_moskvy_v_omsk.doc">Перевозка автомобилем-рефрижератором в г.Омск</a><span style="color:#ff0000;">&nbsp;</span></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/%D0%BF%D1%80%D0%B0%D0%B9%D1%81%20%D0%BD%D1%81%D0%BA-%D0%BE%D0%BC%D1%81%D0%BA.xls"> Автоперевозка сборных грузов из г.Новосибирска</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_omska_i_pavlodara_3.xls">Из Омска в Казахстан и из Павлодара в Россию</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_msk_nvs_v_kazahstan_3.xls">Из Москвы, Новосибирска в Казахстан</a></p><br>

			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_spb_v_kazahstan_3.xls">Из Санкт-Петербурга в Казахстан</a></p><br>
			<p class="tarif" ><a href="/sites/jdt55/files/users/admin3/prays_iz_ekb_i_tyumeni.xls">Из Екатеринбурга и Тюмени в Казахстан</a></p><br>
			<p>&nbsp;</p>
	</div>
		<div class="artkli-footer" align="left" style="margin-left: -14px; margin-top: 50px;">
		<p style="font-size: 11px">	Калькулятор разработан при поддержке <a target="_blank" href="http://www.progschool.ru"><img src="http://www.progschool.ru/favicon.ico" style="vertical-align:-3px;width:16px;height:16px;margin-right:1px" onclick="window['yaCounter'+artkli_yandex_metrika_id].reachGoal('par', params(Params)); return true;">Школы программиста</a>.</p>
		<p style="font-size: 11px">	Наставник: <a target="_blank" href="http://chivorotkiv.livejournal.com/">Сергей Шмаков</a></p>
	</div>
</div>
	<br>

</div>
</body>
	<script>
(function() {
	$(document).ready(function(){ // Добавляет элемент
    	$('[data-toggle="tooltip"]').tooltip();   
	});
	
	var result_field = document.getElementById('result_field');
	var initialization_check = 0;
	function change_check(){ // Меняет глобальную переменную
		initialization_check = 1;
	}
	function blur_button(){ // Меняет состояние элемента
		document.getElementById("butt").blur();
	}
	
	function update_way_dependent(tarifs, from, to) { // Меняет состояние элементов
		var chooser_dep = document.getElementById('artkli-chooser');
		var dependency = document.getElementById('artkli-choose_way'); 
		if(!tarifs || to == "undefined_city" || from == "undefined_city"){
			var buttons = [];
			var chooser = artkli_calculator.build_radio_chooser();
			dependency.setAttribute('class', 'artkli-hidden');
			chooser_dep.setAttribute('class', 'artkli-hidden'); 
		}
		else{
			var buttons = [];
			var ways = Object.keys(artkli_tarifs[from][to]);
			var chooser = artkli_calculator.build_radio_chooser();
			for(var i = 0; i < ways.length; i++){
				var radio_name = ways[i];
				var radio = artkli_calculator.build_radio(radio_name, artkli_way_names[radio_name], i+1);
				buttons.push(radio);
			}
			var buttons = buttons.join("\n");
			chooser_dep.innerHTML = chooser;
			dependency.innerHTML = buttons;
			
			if(Object.keys(artkli_tarifs[from][to]).length == 2){
				dependency.setAttribute('class', ''); 
				chooser_dep.setAttribute('class', ''); 
			}
			else{
				dependency.setAttribute('class', 'artkli-hidden'); 
				chooser_dep.setAttribute('class', 'artkli-hidden'); 
			}
		}
	} 
	function get_tarifs(){return artkli_tarifs;} // Глобальная переменная
	function get_from_cities(tarifs){ // Использование глобальной переменной
		var all_from = Object.keys(tarifs); 
		var wrapper = all_from;
		var nodes = wrapper;
		var len = nodes.length;
		var sorted = [];
		while (nodes[0]) {
			var city = artkli_city_names[nodes[0]]; // Здесь!
				sorted.push(new String(city));
				sorted[sorted.length-1].element = nodes[0];
				wrapper.splice(0,1);
		}
		sorted = sorted.sort();
		for (var i = 0; i < len; i++) {
			wrapper[i] = sorted[i].element;
		}
		all_from = wrapper;
		return all_from;
	 }
	

	
	
	function get_where_cities_by_from(from, tarifs){//Зависит от грязной
		var cities = {};
		var all_from = get_from_cities(tarifs); //Здесь!
		var all_where = artkli_calculator.get_where_cities(tarifs);
		if(from == "undefined_city"){
			from = null;
		}
		if(!from){
			for(var i = 0; i < all_where.length; i++){
				cities[all_where[i]] = true;
			}
		}
		else{
			var concrete_where = tarifs[from];
			var concrete_where = Object.keys(concrete_where);
			for(var i = 0; i < all_where.length; i++){
				var city_check = all_where[i];
				for(var j = 0; j < concrete_where.length; j++){
					if(city_check == concrete_where[j]){
						cities[city_check] = true;
						break;
					}
					else{
						cities[city_check] = false;
					}
				}
			}
		}
		return cities;
	}
	function get_from_cities_by_where(where, all_from, tarifs){//Зависит от грязной
		var all_from = get_from_cities(artkli_tarifs);//Здесь
		var cities = {};
		if(where == "undefined_city"){
			where = null;
		}
		if(!where){
			for(var i = 0; i < all_from.length; i++){
				cities[all_from[i]] = true;
			}
		}
		else{
			var from_cities = [];
			for(var i = 0; i < all_from.length; i++){
				var from = all_from[i];
				var from = Object.keys(tarifs[from]);
				for(var j = 0;j < from.length; j++){
					if(from[j] == where){
						from_cities[from_cities.length] = all_from[i];
						break;
					}
				}
			}
			for(var i = 0; i < all_from.length; i++){
				var city_check = all_from[i];
				for(var j = 0; j < from_cities.length; j++){
					if(city_check == from_cities[j]){
						cities[city_check] = true;
						break;
					}
					else{
						cities[city_check] = false;
					}
				}
			}
		}
		return cities;
	}

	function update_where_selector(tarifs, city_names, from, where_select) {//Зависит от грязной
		var sel_where = where_select.value;
		var where_cities_n = get_where_cities_by_from(from, tarifs);//Здесь
		var where_cities = Object.keys(where_cities_n);
		var options = [];
		var options_html = artkli_calculator.selector_update(where_cities_n, options, sel_where, where_cities);
		where_select.innerHTML = options_html;
	}
	function update_from_selector(tarifs, city_names, from_select, where){	////Зависит от грязной
		var sel_from = from_select.value;
		var all_from = get_from_cities(tarifs);//Здесь!
		var from_cities_n = get_from_cities_by_where(where, all_from, tarifs);//Здесь!
		var from_cities = Object.keys(from_cities_n);
		var options = [];
		var options_html = artkli_calculator.selector_update(from_cities_n, options, sel_from, from_cities);
		from_select.innerHTML = options_html;
	}
	function update_where(){//Зависит от грязной
		var from_block = document.getElementsByName('artkli-from'); 
		var where_block = document.getElementsByName('artkli-where');

		var from_elem = from_block[0]; 
		var where_elem = where_block[0];

		var from = from_elem.value; 
		var where = where_elem.value;

		update_where_selector(artkli_tarifs, artkli_city_names, from, where_elem);//Здесь
	}
	function update_from(){//Зависит от грязной
		var from_block = document.getElementsByName('artkli-from'); 
		var where_block = document.getElementsByName('artkli-where');

		var from_elem = from_block[0]; 
		var where_elem = where_block[0];

		var from = from_elem.value; 
		var where = where_elem.value;

		update_from_selector(artkli_tarifs, artkli_city_names, from_elem, where);//Здесь
	}
	function digit(result){// Изменяет число
		return result.replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"\$1 ");
	}
	
	
	function check_radio(){//Зависит от грязной
		var from_select = document.getElementsByName('artkli-from');
		var where_select = document.getElementsByName('artkli-where'); 
		var from_elem = from_select[0]; 
		var where_elem = where_select[0];
		var from = from_elem.value; 
		var where = where_elem.value;
		update_way_dependent(artkli_tarifs, from, where); //Здесь
	}
	function reset(){//Зависит от грязной
		var from_block = document.getElementsByName('artkli-from'); 
		var where_block = document.getElementsByName('artkli-where');
		var massa_block = document.getElementsByName('artkli-massa');
		var volume_block = document.getElementsByName('artkli-volume');

		update_way_dependent(); //Здесь

		var from_elem = from_block[0]; 
		var where_elem = where_block[0];
		var mass = massa_block[0];
		var volume = volume_block[0]; 

		var call = document.getElementById('call');
		call.setAttribute('class', 'artkli-hidden');

		mass.value = "";
		volume.value = "";

		var from = from_elem.value; 
		var where = where_elem.value;

		result_field.setAttribute('class','alert alert-info');

		var resultat = "Итог";
		document.getElementById('artkli-result').innerHTML = resultat;

		var all_from = get_from_cities(artkli_tarifs);//Здесь
		var from_cities = all_from;
		var options = [];
		var f_option = artkli_calculator.build_first_option();
		options.push(f_option);
		for(var i = 0; i < from_cities.length; i++){
			var city = from_cities[i];
				var option = artkli_calculator.build_option_html(city, artkli_city_names[city]);
				options.push(option);		
		}
		var options_html = options.join("\n");
		var from_select = document.getElementById('artkli-from');
		from_select.innerHTML = options_html;
		

		var where_cities = artkli_calculator.get_where_cities(artkli_tarifs);
		var from_select = document.getElementById('artkli-where_select');
		var options = [];
		var f_option = artkli_calculator.build_first_option();
		options.push(f_option);
		for(var i = 0; i < where_cities.length; i++) {
			var city = where_cities[i];
				var option = artkli_calculator.build_option_html(city, artkli_city_names[city]);
				options.push(option);
		}
		var options_html = options.join("\n");
		var where_select = document.getElementById('artkli-where_select');
		where_select.innerHTML = options_html;
	}
	function initialization(){//Зависит от грязной
		reset();//Здесь
		var by_from = get_where_cities_by_from(null, artkli_tarifs);//Здесь
		var by_where = get_from_cities_by_where(null, get_from_cities(artkli_tarifs), artkli_tarifs);//Здесь х2
		var from_block = document.getElementsByName('artkli-from'); 
		var where_block = document.getElementsByName('artkli-where');

		var from_elem = from_block[0]; 
		var where_elem = where_block[0];

		var call = document.getElementById('call');
		call.setAttribute('class', 'artkli-hidden');

		update_way_dependent(); //Здесь

		var all_from = get_from_cities(artkli_tarifs);//Здесь
		var from_cities = all_from;
		var options = [];
		var f_option = artkli_calculator.build_first_option();
		options.push(f_option);
		for(var i = 0; i < from_cities.length; i++){
			var city = from_cities[i];
				var option = artkli_calculator.build_option_html(city, artkli_city_names[city]);
				options.push(option);		
		}
		var options_html = options.join("\n");
		var from_select = document.getElementById('artkli-from');
		from_select.innerHTML = options_html;
		

		var where_cities = artkli_calculator.get_where_cities(artkli_tarifs);
		var from_select = document.getElementById('artkli-where_select');
		var options = [];
		var f_option = artkli_calculator.build_first_option();
		options.push(f_option);
		for(var i = 0; i < where_cities.length; i++) {
			var city = where_cities[i];
				var option = artkli_calculator.build_option_html(city, artkli_city_names[city]);
				options.push(option);
		}
		var options_html = options.join("\n");
		var where_select = document.getElementById('artkli-where_select');
		where_select.innerHTML = options_html;
	}
	var resultat;
	function fill_text(){ //Зависит от грязной, изменяет кучу всего
		
		var tax_by_mass = 0;
		var tax_by_volume = 0;
			
		var from_select = document.getElementsByName('artkli-from'); 
		var massa_block = document.getElementsByName('artkli-massa'); 
		var where_select = document.getElementsByName('artkli-where');
		var volume_block = document.getElementsByName('artkli-volume');

		resultat;
		var from_elem = from_select[0]; 
		var where_elem = where_select[0];
		var mass = massa_block[0];
		var volume = volume_block[0]; 
		var ch_elem = from_select[0];
		var from = from_elem.value; 
		var where = where_elem.value;

		var check_auto = from + where;

		var tarifs = get_tarifs();//Здесь

		var way = document.getElementsByName('artkli-way');
		
		var way = artkli_calculator.what_is_way(way);
			if(from == "undefined_city" && where == "undefined_city" && mass.value == 0 && volume.value == 0){
				resultat = "Итог";
				result_field.setAttribute('class','alert alert-info');
			}
		
			else if(from == "undefined_city" ){
				resultat = "Выберите пункт отправления!";
				result_field.setAttribute('class','alert alert-warning');

			}
			else if(where == "undefined_city" ){
				resultat = "Выберите пункт назначения!";
				result_field.setAttribute('class','alert alert-warning');
			}
			else if(mass.value == 0 ){					
				resultat = "Введите вес груза!";
				result_field.setAttribute('class','alert alert-warning');
				var call = document.getElementById('call');
				call.setAttribute('class', 'artkli-hidden');
			}
			else if(volume.value == 0 ){
				resultat = "Введите объем груза!";
				result_field.setAttribute('class','alert alert-warning');
				var call = document.getElementById('call');
				call.setAttribute('class', 'artkli-hidden');
			}
			else{
					var tax = artkli_calculator.conclusion_tax(artkli_tarifs, from, where, mass.value, volume.value, way);//?
					var tax_by_mass = tax.by_mass;
					var tax_by_volume = tax.by_volume;

					var ans1 = tax_by_mass * mass.value;
					var ans2 = tax_by_volume * volume.value;

					if(ans1 > ans2){
						resultat = ans1;
					}
					else{
						resultat = ans2;
					}
					if(artkli_calculator.auto_way_check(from, where)){
						if( mass.value > 5000 || volume.value >  25){
							resultat = "Цена договорная";
							result_field.setAttribute('class','alert alert-success');
						}
						else{
						resultat = Math.round(resultat);
						resultat = String(resultat);
						resultat = digit(resultat);//Здесь
						result_field.setAttribute('class','alert alert-success');
						var call = document.getElementById('call');
						call.setAttribute('class', 'dump-noborder');
						resultat = "Автоперевозка! Итоговая сумма: "+resultat+" руб."; 
						}
					}
					else if(isNaN(resultat)){
						resultat = " ";
					}
					else if(tax_by_volume == -2 || tax_by_mass == -2){
						resultat = "Цена договорная";
						result_field.setAttribute('class','alert alert-success');
					}
					else{
						resultat = Math.round(resultat);
						resultat = String(resultat);
						resultat = digit(resultat);//Здесь
						result_field.setAttribute('class','alert alert-success');
						var call = document.getElementById('call');
						call.setAttribute('class', 'dump-noborder');
						resultat = "Итоговая сумма: "+ resultat +" руб.";


					}
				}
			document.getElementById('artkli-result').innerHTML = resultat;
	}
	Params = {itog: resultat};
	initialization();//Грязь?
	window.artkli = {
		update_where: update_where,
		fill_text: fill_text,
		update_where: update_where,
		update_from: update_from,
		reset: reset,
		check_radio: check_radio,
		blur_button: blur_button,
		change_check: change_check
	};
})();

	</script>


	<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w['yaCounter' + artkli_yandex_metrika_id] = new Ya.Metrika({
                    id:artkli_yandex_metrika_id,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    webvisor:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<!-- /Yandex.Metrika counter -->
</body>
</html>






